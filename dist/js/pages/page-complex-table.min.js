$(document).ready((function(){const t=$("#example").DataTable({searching:!1,ordering:!1,processing:!1,pagingType:"simple_numbers",language:{url:"https://cdn.datatables.net/plug-ins/1.11.5/i18n/ru.json"},columns:[{data:null,orderable:!1,searchable:!1,render:function(t,n,s){return'\n                      <div class="tbody-wrapper checkBox">\n                          <label class="my-custom-input">\n                              <input type="checkbox">\n                              <span class="my-custom-box"></span>\n                          </label>\n                      </div>\n                    '}},{data:"location",name:"Локація"},{data:"type",name:"Тип"},{data:"area",name:"Площа"},{data:"condition",name:"Стан"},{data:"floor",name:"Поверх"},{data:"photo",name:"Фото"},{data:"price",name:"Цена от"},{data:"contact",name:"Контакт"},{data:null,orderable:!1,searchable:!1,render:function(t,n,s){return'\n                     <div class="tbody-wrapper block-actions">\n                        <div class="block-actions-wrapper">\n                           <label class="bookmark">\n                              <input type="checkbox">\n                              <span>\n                                  <img class="non-checked" src="./img/icon/bookmark.svg" alt="">\n                                  <img class="on-checked" src="./img/icon/bookmark-cheked.svg" alt="">\n                              </span>\n                           </label>\n                           <div class="menu-burger">\n                              <div class="dropdown">\n                                 <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                     <img src="./img/icon/burger-blue.svg" alt="">\n                                 </button>\n                                 <ul class="dropdown-menu">\n                                    <li><a class="dropdown-item" href="#">Обновить</a></li>\n                                    <li><a class="dropdown-item" href="#">Редактировать</a></li>\n                                    <li><a class="dropdown-item" href="#">Удалить</a></li>\n                                    <li><a class="dropdown-item" href="#">Отложить</a></li>\n                                    <li><a class="dropdown-item" href="#">Передати</a></li>\n                                 </ul>\n                              </div>\n                           </div>\n                           <div class="menu-info">\n                              <div class="dropdown">\n                                 <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                     <img src="./img/icon/copylinked.svg" alt="">\n                                 </button>\n                                 <ul class="dropdown-menu">\n                                    <li><a class="dropdown-item" href="#"><span>На сайте</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>На Rem.ua</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>Видео Youtube</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>На карте</span></a></li>\n                                 </ul>\n                              </div>\n                           </div>\n                        </div>\n                        <button type="button" class="details-control">\n                            <img src="./img/icon/plus.svg" alt="">\n                        </button>\n                    </div>\n                    '}}]});function n(t){const n=t.attr("src").includes("plus.svg");t.attr("src",t.attr("src").replace(n?"plus.svg":"minus.svg",n?"minus.svg":"plus.svg"))}t.on("draw",(function(){const n=t.page.info().recordsDisplay;$("#example_info").html("Всего: <b>"+n+"</b>")})),$("#example tbody").on("click",".details-control",(function(){const t=$(this),s=t.find("img"),e=t.closest("tr");if(e.next().hasClass("dop-info-row"))e.next().remove(),n(s),e[0].classList.remove("active");else{e[0].classList.add("active"),n(s);const t='\n                <tr class="dop-info-row">\n                    <td colspan="10" style="border-bottom: none;">\n                        <div class="tbody-dop-info">\n                            <div class="info-main">\n                                <div class="info-main-left">\n                                    <div class="info-main-left-wrapper">\n                                        <div class="description">\n                                            <p class="description-text">\n                                                <strong>О комплексе:</strong>\n                                               Текст примечание для агентов Отличная квартира сдается длительно порядочным людям. Евроремонт свежий. Есть вся мебель и техника и еще описание\n\t\t\t\t\t\t\t\t\t\t\t\tЕще строка текста и если текст длиннее этого то добавляется кнопка развернуть\n                                                <span class="more-text" style="display: none;">\n                                                    Полное описание квартиры с деталями, которые скрыты по умолчанию.\n                                                </span>\n                                                <button class="btn btn-show-text" type="button">Ещё</button>\n                                            </p>\n                                           <div class="description-wrapper">\n\t                                            <p class="description-text">\n\t                                                <strong>Примечание для агентов:</strong>\n\t                                                <span>Текст примечание для агентов Отличная квартира сдается длительно порядочным людям. Евроремонт свежий.</span>\n\t                                                <span class="more-text" style="display: none;">\n                                                    \tПолное описание квартиры с деталями, которые скрыты по умолчанию.\n                                                \t</span>\n\t                                                <button class="btn btn-show-text" type="button">Ещё</button>\n\t                                            </p>\n\t                                            <p class="description-text">\n\t                                                <strong>Специальные условия:</strong>\n\t                                                <span>Текст примечание для агентов Отличная квартира сдается длительно порядочным людям. Евроремонт свежий.</span>\n\t                                                <span class="more-text" style="display: none;">\n                                                   \t\tПолное описание квартиры с деталями, которые скрыты по умолчанию.\n                                                \t</span>\n\t                                                <button class="btn btn-show-text" type="button">Ещё</button>\n\t                                            </p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n                                        </div>\n                                    </div>\n                                    <div class="filter-tags">\n                                        <div class="badge rounded-pill qwe1">Параметр из фильтра</div>\n                                        <div class="badge rounded-pill qwe2">Параметр из фильтра</div>\n                                        <div class="badge rounded-pill qwe2">Параметр из фильтра</div>\n                                    </div>\n                                    <div class="table-for-others">\n\t\t\t\t\t\t                <table id="example2" style="width:98%; margin: auto;">\n\t\t\t\t\t\t                <col width="3.478%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="22.174%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="6.695%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="7.478%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="9.13%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="5.217%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="6.956%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="6.782%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="14.525%" valign="middle">\n\t\t\t\t\t\t\t\t\t\t<col width="17.565%" valign="middle">\n\t\t\t\t\t\t                    <tbody>\n\t\t\t\t\t\t                        <tr>\n\t\t\t\t\t\t                        \t<td>\n\t\t\t\t\t\t                            \t<div class="tbody-wrapper checkBox">\n\t\t\t\t\t\t                            \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td colspan="2">\n\t\t\t\t\t\t                                <div class="tbody-wrapper location">\n\t\t\t\t\t\t                                    <p>Южная Пальмира дом 1</p>\n\t\t\t\t\t\t                                    <p>Генуэзская 5/1</p>\n\t\t\t\t\t\t                                    <span>Аркадия, Одесса, Одесский</span>\n\t\t\t\t\t\t                                </div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                            \t<div class="tbody-wrapper">\n\t\t\t\t\t\t                            \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                                <div class="tbody-wrapper condition">\n\t\t\t\t\t\t                                    <p>Монолит</p>\n\t\t\t\t\t\t                                    <p>Автономное отопление</p>\n\t\t\t\t\t\t                                </div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                                <div class="tbody-wrapper floor">\n\t\t\t\t\t\t                                    <p>25</p>\n\t\t\t\t\t\t                                </div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                                <div class="tbody-wrapper photo">\n\t\t\t\t\t\t                                    <img src="./img/image.png" alt="">\n\t\t\t\t\t\t                                </div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                            \t<div class="tbody-wrapper">\n\t\t\t\t\t\t                            \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t                            \t<div class="tbody-wrapper">\n\t\t\t\t\t\t                            \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t                            </td>\n\t\t\t\t\t\t                            <td>\n\t\t\t\t\t\t\t                            <div class="tbody-wrapper">\n\t\t\t\t\t\t\t                            \t2020 г.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t                        </tr>\n\t\t\t\t\t\t                    </tbody>\n\t\t\t\t\t\t                </table>\n\t\t\t\t\t\t            </div>\n                                    <div class="info-footer">\n\t\t\t\t\t                    <p class="info-footer-data">ID: <span>1234567</span></p>\n\t\t\t\t\t                    <p class="info-footer-data">Добавлено: <span>01.02.2025</span></p>\n\t\t\t\t\t                    <p class="info-footer-data">Обновлено: <span>10.02.2025</span>\n\t\t\t\t\t                    \x3c!-- ця кнопка є в залежності від ролі/прав користувача --\x3e\n\t\t\t\t\t                        <button class="btn" type="button">\n\t\t\t\t\t\t                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#5FB343" class="bi bi-arrow-repeat" viewBox="0 0 16 16">\n\t\t\t\t\t\t\t\t\t\t\t\t  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>\n\t\t\t\t\t\t\t\t\t\t\t\t  <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t                    </p>\n\t\t                   \t\t\t </div>\n                                </div>\n                            </div>\n                            <div class="type-areas">\n\t                            <ul class="type-areas-list">\n\t                            \t<li class="type-areas-item-info">\n\t                            \t\t<strong class="type-areas-title">В базе:</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <strong>Площадь, м2:</strong>\n\t\t                                    <strong>Цена за м2, USD:</strong>\n\t\t                                    <strong>Цена за Объект, USD:</strong>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t                            \t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">Студии</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>от 23</span>\n\t\t                                    <span>от 10 000</span>\n\t\t                                    <span>от 100 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                                    <strong class="type-areas-title">1 комн</strong>\n\t                                    <p class="type-areas-text">\n\t\t                                    <span>от 30</span>\n\t\t                                    <span>от 15 000</span>\n\t\t                                    <span>от 150 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">2 комн</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>от 56</span>\n\t\t                                    <span>от 25 000</span>\n\t\t                                    <span>от 250 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">3 комн</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>от 87</span>\n\t\t                                    <span>от 35 000</span>\n\t\t                                    <span>от 350 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">4 комн</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                   <span>нет в базе</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">5+ комн</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>нет в базе</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">Коммерческая</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>от 23</span>\n\t\t                                    <span>от 18 000</span>\n\t\t                                    <span>от 100 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t                            \t<li class="type-areas-item">\n\t                            \t\t<strong class="type-areas-title">Дома</strong>\n\t                            \t\t<p class="type-areas-text">\n\t\t                                    <span>от 23</span>\n\t\t                                    <span>от 18 000</span>\n\t\t                                    <span>от 100 000</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="info-complex-wrapper">\n\t\t\t\t\t\t\t\t <button class="info-complex-btn ms-auto close-btn-other" type="button">Свернуть</button>\n\t\t\t\t\t\t\t</div>\n                        </div>\n                    </td>\n                </tr>\n            ';e.after(t),a()}})),$("#example tbody").on("click",".info-complex-btn",(function(){const t=$(this).closest(".dop-info-row"),s=t.prev(),a=s.find(".details-control").find("img");s[0].classList.remove("active"),n(a),t.remove()})),$("#example tbody").on("click",".btn-show-text",(function(){const t=$(this),n=t.closest(".description-text"),s=n.find(".more-text"),a=n.contents().filter((function(){return 3===this.nodeType}));s.is(":visible")?(s.hide(),a.show(),t.text("Ещё")):(s.show(),a.hide(),t.text("Скрыть"))})),$("thead .my-custom-input input").on("change",(function(){let t=$(this).prop("checked");$("tbody .my-custom-input input").prop("checked",t)})).end().on("change","tbody .my-custom-input input",(function(){let t=$("tbody .my-custom-input input:checked").length===$("tbody .my-custom-input input").length;$("thead .my-custom-input input").prop("checked",t)}));const s=function(){[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(t=>new bootstrap.Tooltip(t))};function a(){0===$("#photo-preview-popup").length&&$("body").append('\n            <div id="photo-preview-popup">\n                <img src="" alt="">\n            </div>\n        ');const t=$("#photo-preview-popup"),n=t.find("img"),s=$("#close-photo-preview");let a;$(".tbody-wrapper.photo img").hover((function(){const s=$(this).attr("src");a=setTimeout((function(){n.attr("src",s),t.show()}),300)}),(function(){clearTimeout(a),t.hide()})),t.hover((function(){}),(function(){t.hide()})),s.on("click",(function(){t.hide()}))}s(),t.on("draw",(function(){s(),a()})),$("#example tbody").on("click",".details-control, .details-control-dop, #btn-others",(function(){setTimeout(()=>{s()},0)})),a()}));