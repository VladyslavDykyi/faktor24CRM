import{PhotoLoaderMini,PhoneInputManager}from"./function_on_pages-create.js";let phoneManager=null,select2Initialized=!1;function initPhoneInputManager(){if(!phoneManager&&document.querySelector(".btn-new-tel")&&void 0!==PhoneInputManager)try{phoneManager=new PhoneInputManager({btnSelector:".btn-new-tel",wrapperSelector:"#add-contact-modal .modal-row .item.phone",inputClass:"tel-contact",maxPhones:5,initialCountry:"ua",utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@25.3.1/build/js/utils.js",countryMasks:{ua:"(99) 999-99-99",us:"(999) 999-9999",gb:"9999 999999",de:"999 99999999",fr:"9 99-99-99-99",pl:"999 999-999",it:"999 999-9999",es:"999 99-99-99",default:"(999) 999-99-99"}})}catch(e){console.error("Error initializing PhoneInputManager:",e)}}function initSelect2(){if(select2Initialized)return;const e=[{selector:"#tags-client-modal",options:{dropdownParent:$("#add-contact-modal"),width:"100%",placeholder:"Выберите теги",language:{noResults:()=>"Результатов не найдено"}}},{selector:"#type-contact-modal",options:{dropdownParent:$("#add-contact-modal"),width:"100%",placeholder:"Выберите тип",language:{noResults:()=>"Результатов не найдено"}}},{selector:"#source-contact-modal",options:{dropdownParent:$("#add-contact-modal"),width:"100%",placeholder:"Выберите источник",language:{noResults:()=>"Результатов не найдено"}}}];try{e.forEach(e=>{$(e.selector).length&&($(e.selector).data("select2")&&$(e.selector).select2("destroy"),$(e.selector).select2(e.options),$(e.selector).on("select2:open",(function(){setTimeout(()=>{const e=document.querySelector(".select2-search__field");e&&e.focus()},100)})))}),select2Initialized=!0,console.log("All Select2 initialized successfully")}catch(e){console.error("Error initializing Select2:",e)}}function initPhotoLoader(){const e=document.getElementById("add-contact-modal");e&&new PhotoLoaderMini({inputIdSelector:"#loading-photo-contact-modal",wrapperClassSelector:".photo-info-list",context:e})}function initModalComponents(){initPhoneInputManager(),initSelect2(),initPhotoLoader()}const modal=document.getElementById("add-contact-modal");modal&&(modal.addEventListener("shown.bs.modal",(function(){setTimeout(initModalComponents,300)})),modal.addEventListener("hidden.bs.modal",(function(){phoneManager&&"function"==typeof phoneManager.destroy&&(phoneManager.destroy(),phoneManager=null);["#tags-client-modal","#type-contact-modal","#source-contact-modal"].forEach(e=>{$(e).data("select2")&&$(e).select2("destroy")}),select2Initialized=!1,console.log("All components destroyed")}))),$("#datapiker-contact-modal").daterangepicker({singleDatePicker:!0,locale:{format:"DD-MM-YYYY",separator:" - ",applyLabel:"Применить",cancelLabel:"Отмена",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",weekLabel:"Н",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},drops:"auto"});const style=document.createElement("style");style.textContent="\n    .select2-container.select2-dropdown {\n        z-index: 1060 !important;\n    }\n    .modal .select2-container--open {\n        z-index: 1060 !important;\n    }\n    .select2-search__field {\n        width: 100% !important;\n    }\n",document.head.appendChild(style);